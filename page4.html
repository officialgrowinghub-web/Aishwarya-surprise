<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Page 4 ‚Äî Secret Unlock ‚ú®</title>
<style>
  :root{
    --bg1:#1f1356;
    --bg2:#6b63d6;
    --glass: rgba(255,255,255,0.06);
    --accent1:#ff3da6;
    --accent2:#7f5af0;
    --text:#fff;
  }
  html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;background:linear-gradient(160deg,var(--bg1),var(--bg2));color:var(--text);-webkit-font-smoothing:antialiased}
  .wrap{max-width:920px;margin:0 auto;padding:30px;box-sizing:border-box}
  .title{font-size:34px;text-align:center;margin-top:10px;margin-bottom:10px;letter-spacing:0.6px;text-shadow:0 8px 30px rgba(127,90,240,0.18);animation:popIn .9s ease both}
  @keyframes popIn{from{opacity:0;transform:scale(.96) translateY(10px)}to{opacity:1;transform:none}}
  .card{background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));border-radius:18px;padding:26px;margin:22px auto;box-shadow:0 12px 34px rgba(0,0,0,0.35);backdrop-filter: blur(6px);max-width:720px}
  .lead{text-align:center;color:rgba(255,255,255,0.9);font-size:16px;margin:6px 0 18px}
  .hint{font-size:14px;color:rgba(255,255,255,0.75);margin-top:6px;text-align:center}

  /* input */
  .code-row{display:flex;gap:12px;align-items:center;justify-content:center;margin-top:18px;flex-wrap:wrap}
  .code-input{width:220px;max-width:80%;padding:14px 16px;border-radius:12px;border:none;font-size:18px;outline:none;background:rgba(255,255,255,0.03);color:var(--text);box-shadow:inset 0 2px 8px rgba(0,0,0,0.35)}
  .check-btn{padding:12px 18px;border-radius:12px;border:none;font-weight:700;font-size:16px;color:white;cursor:pointer;background:linear-gradient(90deg,var(--accent1),var(--accent2));box-shadow:0 8px 26px rgba(127,90,240,0.18);transition:transform .12s ease}
  .check-btn:active{transform:translateY(2px)}
  .check-btn[disabled]{opacity:.6;cursor:not-allowed;transform:none}

  .message{height:36px;margin-top:12px;text-align:center;font-weight:600;color:#ffe3f6}

  /* hidden success area */
  .unlocked{display:none;margin-top:18px;text-align:center;animation:fadeUp .6s ease both}
  @keyframes fadeUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}

  .surprise-box{margin:18px auto;padding:20px;border-radius:14px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));max-width:600px;box-shadow:0 8px 30px rgba(0,0,0,0.25)}
  .surprise-title{font-size:22px;color:#fff;margin-bottom:8px}
  .surprise-text{color:rgba(255,255,255,0.9);font-size:16px;line-height:1.45}

  .continue-btn{display:inline-block;margin-top:18px;padding:14px 34px;border-radius:999px;background:linear-gradient(90deg,#00eaff,#00b3ff);color:#061428;text-decoration:none;font-weight:800;box-shadow:0 12px 30px rgba(0,180,255,0.15);transition:transform .15s ease}
  .continue-btn:active{transform:translateY(2px)}

  /* small footer */
  .small{font-size:13px;color:rgba(255,255,255,0.6);text-align:center;margin-top:18px}

  /* particles/confetti */
  .particle{position:fixed;left:0;top:0;will-change:transform,opacity;pointer-events:none;z-index:9999}
  /* responsive */
  @media (max-width:480px){.title{font-size:26px}.code-input{font-size:16px;padding:12px}.check-btn{padding:10px 14px}}
</style>
</head>
<body>
  <div class="wrap">
    <div class="title">‚ú® Secret Unlock ‚Äî Enter the code</div>

    <div class="card" role="region" aria-label="Secret unlock card">
      <p class="lead">A little challenge: unlock the next page by entering the correct secret code.  
      This keeps the surprise special. üîê</p>

      <div style="text-align:center">
        <div style="display:inline-block;text-align:left;max-width:520px;width:100%">
          <div class="hint">Tip: It's a short 4-letter code. (Enter uppercase or lowercase)</div>

          <div class="code-row" style="margin-top:14px">
            <input id="codeInput" class="code-input" placeholder="Enter secret code" aria-label="Secret code input" autocomplete="off" inputmode="text" />
            <button id="checkBtn" class="check-btn" aria-label="Check code button">Check</button>
          </div>

          <div id="msg" class="message" aria-live="polite"></div>

          <!-- unlocked content -->
          <div id="unlocked" class="unlocked" role="region" aria-hidden="true">
            <div class="surprise-box">
              <div class="surprise-title">üîì Secret Unlocked!</div>
              <div class="surprise-text" id="surpriseText">
                üéâ Congratulations ‚Äî you found it! Click continue to move forward.
              </div>

              <a id="continueLink" class="continue-btn" href="page5.html" aria-label="Continue to page 5">Continue ‚ûú</a>
            </div>
          </div>

        </div>
      </div>

      <p class="small">If the button doesn't appear after correct code, try pressing <strong>Enter</strong> or tapping Check again.</p>
    </div>
  </div>

  <!-- confetti particle container -->
  <div id="particles"></div>

<script>
/* secret code logic */
const SECRET = "ASPL";
const input = document.getElementById("codeInput");
const checkBtn = document.getElementById("checkBtn");
const msg = document.getElementById("msg");
const unlocked = document.getElementById("unlocked");
const continueLink = document.getElementById("continueLink");
const particlesRoot = document.getElementById("particles");

function showMessage(text, color = '#ffe3f6') {
  msg.textContent = text;
  msg.style.color = color;
}

/* small confetti util (emoji confetti for lightweight mobile-friendly effect) */
function burstConfetti() {
  const emojis = ["üéâ","‚ú®","üå∏","üíñ","ü•≥","üåü"];
  const count = 18;
  for (let i=0;i<count;i++){
    const el = document.createElement('div');
    el.className = 'particle';
    el.style.left = (10 + Math.random()*80) + 'vw';
    el.style.top = (10 + Math.random()*70) + 'vh';
    el.style.opacity = 1;
    el.style.fontSize = (18 + Math.random()*28) + 'px';
    el.textContent = emojis[Math.floor(Math.random()*emojis.length)];
    document.body.appendChild(el);

    // animate using transform
    const dx = (Math.random()-0.5) * 200;
    const dy = - (80 + Math.random()*200);
    const rot = (Math.random()-0.5) * 720;
    el.animate([
      { transform: 'translate(0px,0px) rotate(0deg)', opacity: 1 },
      { transform: `translate(${dx}px, ${dy}px) rotate(${rot}deg)`, opacity: 0 }
    ], {
      duration: 1200 + Math.random()*800,
      easing: 'cubic-bezier(.2,.8,.2,1)'
    });

    setTimeout(()=> el.remove(), 2200);
  }
}

/* validate code (case-insensitive) */
function checkCode() {
  const val = (input.value || '').trim();
  if (!val) {
    showMessage('Please enter the secret code.', '#ffd6e8');
    return;
  }
  if (val.toUpperCase() === SECRET.toUpperCase()) {
    showMessage('Code correct! Unlocking...', '#bfffcf');
    // reveal unlocked area
    unlocked.style.display = 'block';
    unlocked.setAttribute('aria-hidden','false');
    burstConfetti();
    // smooth scroll into view on small screens
    setTimeout(()=> { unlocked.scrollIntoView({behavior:'smooth', block:'center'}); }, 300);
  } else {
    showMessage('Not correct ‚Äî try again!', '#ffd6e8');
    // small shake animation for input
    input.animate([{transform:'translateX(-6px)'},{transform:'translateX(6px)'},{transform:'translateX(0)'}],{duration:300});
  }
}

/* button listeners */
checkBtn.addEventListener('click', checkCode);
/* allow Enter key */
input.addEventListener('keydown', (e) => {
  if (e.key === 'Enter') checkCode();
});

/* pre-focus */
input.focus();
</script>
</body>
    </html>
